## 기본 명령어

* sqlplus툴 - sql실행 결과 보여주는 환경제공

* sqlplus 툴 명령어 - 세미콜론 없이 사용가능 명령어 축양 사용가능

* sql문은 명령어 축약 불가 , 반드시 한 문장은 세미콜론으로 종료

  

### 전체 테이블 목록

```
meta정보가 저장된oracle data dictionary view 는

user_tables 특정user소유의 테이블 목록 확인

all_tables - 특정 user소유 + 권한을 받은 테이블 목록 확인

dba _tables - DB전체의 테이블 목록 확인
```

select table_name from all_tables;

select table_name from dba_tables;



desc user tables

select table_name from user_tables;



desc tab

select tname from tab;



```
SQL> select tname from tab;

##결과

TNAME
------------------------------
BONUS
DEPT
EMP
SALGRADE
```



### cmd창 클리어

​	host cls



### 테이블 속성 확인하기

* desc 테이블명

  ```sql
  SQL> desc emp
   이름                                      널?      유형
   ----------------------------------------- -------- ----------------------------
   EMPNO                                     NOT NULL NUMBER(4)
   ENAME                                              VARCHAR2(10)
   JOB                                                VARCHAR2(9)
   MGR                                                NUMBER(4)
   HIREDATE                                           DATE
   SAL                                                NUMBER(7,2)
   COMM                                               NUMBER(7,2)
   DEPTNO                                             NUMBER(2)
  ```



### 날짜 반환

```
select sys date from dual;
```



### 한줄 주석

```
-- sql문 // 주석
```



# DDL(create,alter,drop,rename)



## 테이블 생성하기

* 테이블의 생성은 create table
* 테이블의 변경은 alter table
* 테이블의 삭제는drop table



* 테이블 생성

```sql
create table Practice(테이블명) (
	변수이름 형식		조건
	enum number(10) primary key,
	ename varchar(10),
)	
```

###### 데이터 타입

```
char(1) ~2000byte
varchar(1) ~4000byte
number 날짜를 7byte를 사용해서 수치값으로 저장(__세기__년도__월__일)
```

###### 제약조건 정리

```
default 0 : 기본값을 0으로 설정
not null : null이 아닌값이 들어와야 한다.
```

- ###### 테이블 이름 변경

  - alter table ~ rename to~

```
alter table 바꿀테이블명 rename to 바뀔테이블명
```

#### 테이블 변경(칼럼추가 변경 삭제)

* ###### 칼럼 추가

  * alter table ~ add

```
alter table practice add (age number(2 default 1));

practice테이블에 number형식 2자리수 기본값 1을 가지는 age를 생성한다.
```

* 칼럼 변경
  * alter table  ~ modify
  * 기존 데이터가 숫자형 데이터로 저장되어있는데 문자형으로 칼럼의 데이터 형을 변경하면 ERROR

```
alter table practice
	modify(ename varchar2(40) not null)
```

* 칼럼 삭제
  * alter table ~ drop column ~

```
alter table practice
	drop column age;
```

* 칼럼명 변경
  * alter table ~ rename column ~to

```
alter table pr1
	rename column age to new_age
```

#### View 생성과 삭제	

###### 뷰의 정의

* 테이블로부터 만들어진 가상의 테이블
* 실제 테이블을 가지고있지 않고 테이블을 참조해서 원하는 칼럼만 조회가능
* 데이터 딕셔너리에 쿼리문 형태로 저장하고 실행시에 참조된다.

###### 뷰의 특징

* 참조한 테이블이 변경되면 view도 변경된다.
* 입력,수정에 제약이 생긴다.
* 보안성을 향상시킨다
* 생성된 뷰는 변경할 수 없고 삭제 후 재생성 해야함
* alter문을 사용해서 뷰를 변경할수없다.

###### 뷰 만들기

* create view ~ as  select ~ from ~ 참조테이블

```sql
create view view_pr1 as
select * from pr1;
```

###### 뷰 삭제

* drop view ~

```
drop view view_pr1;
```



# DML(insert into, update,delete ,select)

#### 테이블 내용 조회

```
select * from 테이블명
```

* distinct를 사용해 컬럼값의 종류를 리턴한다(해싱)

* ```
  select distinct deptno from emp;
  
  ## 결과값
      DEPTNO
  ----------
          30
          20
          10
  ```





#### 자료 넣기(insert into)

```
insert into 테이블명 values(10,'이름');
```

#### 자료 지우기(delete)

```
delete from 테이블명 where 필드='조건'
```

