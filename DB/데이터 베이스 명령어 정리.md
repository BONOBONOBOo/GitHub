## 기본 명령어

* sqlplus툴 - sql실행 결과 보여주는 환경제공

* sqlplus 툴 명령어 - 세미콜론 없이 사용가능 명령어 축양 사용가능

* sql문은 명령어 축약 불가 , 반드시 한 문장은 세미콜론으로 종료

  

## 기본 개념

* 데이터가 추가 될때 입력되지 않는 컬럼값은 null입니다.
* nul은 아직 값이 없다는 의미다0도아니고''도아니다.



* 문자 날짜 데이터는 반드시 '' 를 사용해서 표현해야한다.
* 날짜 데이터는 세션에 설정된 포맷 형식하고 일치해야 합니다.(RR/MM/DD)
* select ~ from절이 필수절입니다.
* 단순계산결과 함수 결과 문자 데이터 출력은 dual테이블을 사용합니다.

## 기본 형태

```sql
select~
from 테이블명
[where 조건]
[group by 컬럼]
[having 조건]
[order by 정렬기준 (desc,asc)] --desc,asc
```



---



### 전체 테이블 목록

```
meta정보가 저장된oracle data dictionary view 는

user_tables 특정user소유의 테이블 목록 확인

all_tables - 특정 user소유 + 권한을 받은 테이블 목록 확인

dba _tables - DB전체의 테이블 목록 확인
```

select table_name from all_tables;

select table_name from dba_tables;



desc user tables

select table_name from user_tables;



desc tab

select tname from tab;



```
SQL> select tname from tab;

##결과

TNAME
------------------------------
BONUS
DEPT
EMP
SALGRADE
```



### cmd창 클리어

​	host cls



### 테이블 속성 확인하기

* desc 테이블명

  ```sql
  SQL> desc emp
   이름                                      널?      유형
   ----------------------------------------- -------- ----------------------------
   EMPNO                                     NOT NULL NUMBER(4)
   ENAME                                              VARCHAR2(10)
   JOB                                                VARCHAR2(9)
   MGR                                                NUMBER(4)
   HIREDATE                                           DATE
   SAL                                                NUMBER(7,2)
   COMM                                               NUMBER(7,2)
   DEPTNO                                             NUMBER(2)
  ```



### 날짜 반환

```
select sys date from dual;
```



### 한줄 주석

```
-- sql문 // 주석
```



# DDL(create,alter,drop,rename)



## 테이블 생성하기

* 테이블의 생성은 create table
* 테이블의 변경은 alter table
* 테이블의 삭제는drop table



* 테이블 생성

```sql
create table Practice(테이블명) (
	변수이름 형식		조건
	enum number(10) primary key,
	ename varchar(10),
)	
```

###### 데이터 타입

```
char(1) ~2000byte
varchar(1) ~4000byte
date날짜를 7byte를 사용해서 수치값으로 저장(__세기__년도__월__일)
```

###### 데이터 타입에대한 연산

```
number :+ - * /
char / varchar  = || (문자결합)
date  : date+-n ,date-date
```

```sql
SQL> select sal,comm,sal+comm from emp;
--결과
       SAL       COMM   SAL+COMM
---------- ---------- ----------
       800
      1600        300       1900
      1250        500       1750
      2975
      1250       1400       2650
      2850
      2450
      3000
      5000
      1500          0       1500
      1100

       SAL       COMM   SAL+COMM
---------- ---------- ----------
       950
      3000
      1300
```

```sql
SQL> select ename||' works ' || job as work from emp;

WORK
--------------------------
SMITH works CLERK
ALLEN works SALESMAN
WARD works SALESMAN
JONES works MANAGER
MARTIN works SALESMAN
BLAKE works MANAGER
CLARK works MANAGER
SCOTT works ANALYST
KING works PRESIDENT
TURNER works SALESMAN
ADAMS works CLERK
```



###### 별칭 붙이기

* as "" or as

```sql
SQL> select sal,comm,(sal+comm) as "salary" from emp;
-- salary는 대문자로 찍히고 ""안에 넣을시 대소문자 구분을 할수있습니다.

       SAL       COMM     salary
---------- ---------- ----------
       800
      1600        300       1900
      1250        500       1750
      2975
      1250       1400       2650
      2850
      2450
      3000
      5000
      1500          0       1500
      1100

       SAL       COMM     salary
---------- ---------- ----------
       950
      3000
      1300
```





###### 제약조건 정리

```
default 0 : 기본값을 0으로 설정
not null : null이 아닌값이 들어와야 한다.
```

- ###### 테이블 이름 변경

  - alter table ~ rename to~

```
alter table 바꿀테이블명 rename to 바뀔테이블명
```

#### 테이블 변경(칼럼추가 변경 삭제)

* ###### 칼럼 추가

  * alter table ~ add

```
alter table practice add (age number(2 default 1));

practice테이블에 number형식 2자리수 기본값 1을 가지는 age를 생성한다.
```

* 칼럼 변경
  * alter table  ~ modify
  * 기존 데이터가 숫자형 데이터로 저장되어있는데 문자형으로 칼럼의 데이터 형을 변경하면 ERROR

```
alter table practice
	modify(ename varchar2(40) not null)
```

* 칼럼 삭제
  * alter table ~ drop column ~

```
alter table practice
	drop column age;
```

* 칼럼명 변경
  * alter table ~ rename column ~to

```
alter table pr1
	rename column age to new_age
```

#### View 생성과 삭제	

###### 뷰의 정의

* 테이블로부터 만들어진 가상의 테이블
* 실제 테이블을 가지고있지 않고 테이블을 참조해서 원하는 칼럼만 조회가능
* 데이터 딕셔너리에 쿼리문 형태로 저장하고 실행시에 참조된다.

###### 뷰의 특징

* 참조한 테이블이 변경되면 view도 변경된다.
* 입력,수정에 제약이 생긴다.
* 보안성을 향상시킨다
* 생성된 뷰는 변경할 수 없고 삭제 후 재생성 해야함
* alter문을 사용해서 뷰를 변경할수없다.

###### 뷰 만들기

* create view ~ as  select ~ from ~ 참조테이블

```sql
create view view_pr1 as
select * from pr1;
```

###### 뷰 삭제

* drop view ~

```
drop view view_pr1;
```



# DML(insert into, update,delete ,select)

#### 테이블 내용 조회

```
select * from 테이블명
```

* distinct를 사용해 컬럼값의 종류를 리턴한다(해싱)

* ```
  select distinct deptno from emp;
  
  ## 결과값
      DEPTNO
  ----------
          30
          20
          10
  ```

#### 자료 넣기(insert into)

```
insert into 테이블명 values(10,'이름');
```

#### 자료 지우기(delete)

```
delete from 테이블명 where 필드='조건'
```

### 조건절 where

```sql
SQL> select empno from emp where empno>7500;

     EMPNO
----------
      7521
      7566
      7654
      7698
      7782
      7788
      7839
      7844
      7876
      7900
      7902

     EMPNO
----------
      7934
```

