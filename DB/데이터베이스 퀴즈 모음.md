# DB Quiz

Quiz> 'A'를 결과로 출력하려면?

```sql
SQL> select '''A''' from dual;

'''
--
'A'

 select q'['A']' from dual;

Q'[
---
'A'

```

Quiz> select 10||10 from dual; // 연산자 이기때문에 형번환을 가능하면 해준다.

```
10||
---
1010
```



Quiz> select '10'+'10' from dual;

```
 '10'+'10'
----------
        20
```



Quiz> select sysdate+1 ,sysdate-1 from dual;

```
SYSDATE+ SYSDATE-
-------- --------
19/05/31 19/05/29
```

Quiz > SQL> select sysdate - hiredate from emp;

```
SYSDATE-HIREDATE
----------------
      14043.5695
      13978.5695
      13976.5695
      13937.5695
      13758.5695
      13908.5695
      13869.5695
      11729.5695
      13708.5695
      13778.5695
      11695.5695

SYSDATE-HIREDATE
----------------
      13692.5695
      13692.5695
      13641.5695
```

Quiz> select sysdate + hiredate from dual;

```
ERROR
```

Quiz>alter session set nls_date_format = 'YYYY_MM_DD HH24_MI_SS';

```
날짜 형식 병경
```

Quiz>87년 1월 1일 이후에 입사한 사원 검색

```sql
SQL> select ename from emp where hiredate > '87_01_01';

ENAME
----------
SCOTT
ADAMS
```

Quiz>커미션을 받지 않는 사원을 검색하시오.

```sql
select ename from emp where comm is not null;
--is null , is not null 사용가능
ENAME
----------
ALLEN
WARD
MARTIN
TURNER
```

Quiz> 월급이 3000이상 5000이하인 사원을 검색하세요

```sql
SQL> select ename from emp where sal>=3000 and sal <=5000;
--and or not 사용가능 between 하한 and 상한

ENAME
----------
SCOTT
KING
FORD


SQL>  select ename from emp where sal between 3000 and 5000;

ENAME
----------
SCOTT
KING
FORD
```



Quiz>직무가 clerk 또는 analyst인사람 검색

```sql
SQL> select ename from emp where job='CLERK' or job='ANALYST';

ENAME
----------
SMITH
SCOTT
ADAMS
JAMES
FORD
MILLER

SQL>  select ename from emp where job in ('CLERK','ANALYST');

ENAME
----------
SMITH
SCOTT
ADAMS
JAMES
FORD
MILLER
```



Quiz>사원이름중에서 두번째 문자가 D인 사원 검색(문자열패턴매칭)

```sql
SQL> select ename from emp where ename like '_D%';

ENAME
----------
ADAMS
```

Quiz>사원이름중에서 첫번째 문자가 'S'로 시작하는 사원검색

```sql
SQL> select ename from emp where ename like 'S%';

ENAME
----------
SMITH
SCOTT
```

Quiz>사원이름중에 N으로 끝나느 사원 검색

```sql
SQL> select ename from emp where ename like '%N';

ENAME
----------
ALLEN
MARTIN
```

Quiz>81년도에 입사한 사원검색

```sql
SQL> select ename,hiredate from emp where hiredate > '81_01_01';

ENAME      HIREDATE
---------- --------
ALLEN      81_02_20
WARD       81_02_22
JONES      81_04_02
MARTIN     81_09_28
BLAKE      81_05_01
CLARK      81_06_09
SCOTT      87_04_19
KING       81_11_17
TURNER     81_09_08
ADAMS      87_05_23
JAMES      81_12_03

ENAME      HIREDATE
---------- --------
FORD       81_12_03
MILLER     82_01_23
##################################################################################
SQL> select ename,hiredate from emp where hiredate like '81______';

ENAME      HIREDATE
---------- --------
ALLEN      81_02_20
WARD       81_02_22
JONES      81_04_02
MARTIN     81_09_28
BLAKE      81_05_01
CLARK      81_06_09
KING       81_11_17
TURNER     81_09_08
JAMES      81_12_03
FORD       81_12_03
```



Quiz > 업무가 PRESIDENT이고 급여가 1500이상이거나 업무가 SALEMAN인 사원의 사원번호 이름 업무 급여를 출력하여라.

```sql
SQL> select empno,ename,job,sal from emp where job='PRESIDENT' and (sal>1500 or job='SALESMAN');

     EMPNO ENAME      JOB              SAL
---------- ---------- --------- ----------
      7839 KING       PRESIDENT       5000
```



Quiz>급여가 1500이고 업무가 PRESIDENT이상이거나 업무가 SALEMAN인 사원의 사원번호 이름 업무 급여를 출력하여라.

```sql
SQL> select empno,ename,job,sal from emp where sal>=1500 and job in('PRESIDENT','SALESMAN');

     EMPNO ENAME      JOB              SAL
---------- ---------- --------- ----------
      7499 ALLEN      SALESMAN        1600
      7839 KING       PRESIDENT       5000
      7844 TURNER     SALESMAN        1500
```

Quiz>월급의 오름차순으로 사원 정보 출력

```sql
SQL>select ename , sal from emp order by sal asc;

ENAME             SAL
---------- ----------
SMITH             800
JAMES             950
ADAMS            1100
WARD             1250
MARTIN           1250
MILLER           1300
TURNER           1500
ALLEN            1600
CLARK            2450
BLAKE            2850
JONES            2975

ENAME             SAL
---------- ----------
SCOTT            3000
FORD             3000
KING             5000
```



Quiz>사원들이 사번 이름 부서번호 월급 커미션 연봉의 결과 출력 연봉의 내림차순으로

```sql
SQL> select empno,ename,deptno,sal,nvl(comm,0),(sal+nvl(comm,0))*12 as 월급 
		from emp order by 월급 desc;
--nvl(속성,원하는값) =속성의 값이 null 일때는 원하는 값을 넣어준다.


     EMPNO ENAME          DEPTNO        SAL NVL(COMM,0)       월급
---------- ---------- ---------- ---------- ----------- ----------
      7839 KING               10       5000           0      60000
      7902 FORD               20       3000           0      36000
      7788 SCOTT              20       3000           0      36000
      7566 JONES              20       2975           0      35700
      7698 BLAKE              30       2850           0      34200
      7654 MARTIN             30       1250        1400      31800
      7782 CLARK              10       2450           0      29400
      7499 ALLEN              30       1600         300      22800
      7521 WARD               30       1250         500      21000
      7844 TURNER             30       1500           0      18000
      7934 MILLER             10       1300           0      15600

     EMPNO ENAME          DEPTNO        SAL NVL(COMM,0)       월급
---------- ---------- ---------- ---------- ----------- ----------
      7876 ADAMS              20       1100           0      13200
      7900 JAMES              30        950           0      11400
      7369 SMITH              20        800           0       9600
```

Quiz>사원들이 사번 이름 부서번호 월급 커미션 연봉의 결과 출력 연봉의 내림차순으로 사원번호는 오름차순으로

```sql
select empno,ename,deptno,sal,nvl(comm,0),(sal+nvl(comm,0))*12 as 월급 from emp order by 월급 desc,empno asc;

     EMPNO ENAME          DEPTNO        SAL NVL(COMM,0)       월급
---------- ---------- ---------- ---------- ----------- ----------
      7839 KING               10       5000           0      60000
      7788 SCOTT              20       3000           0      36000
      7902 FORD               20       3000           0      36000
      7566 JONES              20       2975           0      35700
      7698 BLAKE              30       2850           0      34200
      7654 MARTIN             30       1250        1400      31800
      7782 CLARK              10       2450           0      29400
      7499 ALLEN              30       1600         300      22800
      7521 WARD               30       1250         500      21000
      7844 TURNER             30       1500           0      18000
      7934 MILLER             10       1300           0      15600

     EMPNO ENAME          DEPTNO        SAL NVL(COMM,0)       월급
---------- ---------- ---------- ---------- ----------- ----------
      7876 ADAMS              20       1100           0      13200
      7900 JAMES              30        950           0      11400
      7369 SMITH              20        800           0       9600
```

### 함수

###### 첫글자 바꾸기 대문자,소문자





```
SQL> select initcap(ename), lower(ename), upper(ename) from emp;

INITCAP(EN LOWER(ENAM UPPER(ENAM
---------- ---------- ----------
Smith      smith      SMITH
Allen      allen      ALLEN
Ward       ward       WARD
Jones      jones      JONES
Martin     martin     MARTIN
Blake      blake      BLAKE
Clark      clark      CLARK
Scott      scott      SCOTT
King       king       KING
Turner     turner     TURNER
Adams      adams      ADAMS

INITCAP(EN LOWER(ENAM UPPER(ENAM
---------- ---------- ----------
James      james      JAMES
Ford       ford       FORD
Miller     miller     MILLER

14 개의 행이 선택되었습니다.
```







```
SQL> select length('12345'),length('하하하') from dual;

LENGTH('12345') LENGTH('하하하')
--------------- ----------------
              5                3
```







```
SQL> select concat(concat(ename,' is'),' jop') from emp;

CONCAT(CONCAT(ENA
-----------------
SMITH is jop
ALLEN is jop
WARD is jop
JONES is jop
MARTIN is jop
BLAKE is jop
CLARK is jop
SCOTT is jop
KING is jop
TURNER is jop
ADAMS is jop

CONCAT(CONCAT(ENA
-----------------
JAMES is jop
FORD is jop
MILLER is jop
```



```
SQL> select substr('today is 2015년 4월 26일',1,5),
  2  substr('today is 2015년 4월 26일',10,5),
  3  substr('today is 2015년 4월 26일',15),
  4  substr('today is 2015년 4월 26일',-3,2) from dual;

SUBST SUBSTR SUBSTR('T SU
----- ------ --------- --
today 2015년  4월 26일 26
```



```
SQL> select instr('korea is wonderful','o'),
  2  instr('korea is wonderful','x') from dual;

INSTR('KOREAISWONDERFUL','O') INSTR('KOREAISWONDERFUL','X')
----------------------------- -----------------------------
                            2                             0
```



```
SQL> select ename,sal,lpad(sal,10,'*') from emp;

ENAME             SAL LPAD(SAL,10,'*')
---------- ---------- --------------------
SMITH             800 *******800
ALLEN            1600 ******1600
WARD             1250 ******1250
JONES            2975 ******2975
MARTIN           1250 ******1250
BLAKE            2850 ******2850
CLARK            2450 ******2450
SCOTT            3000 ******3000
KING             5000 ******5000
TURNER           1500 ******1500
ADAMS            1100 ******1100

ENAME             SAL LPAD(SAL,10,'*')
---------- ---------- --------------------
JAMES             950 *******950
FORD             3000 ******3000
MILLER           1300 ******1300
```

```
SQL> select ename,sal,rpad(sal,10,'*') from emp;

ENAME             SAL RPAD(SAL,10,'*')
---------- ---------- --------------------
SMITH             800 800*******
ALLEN            1600 1600******
WARD             1250 1250******
JONES            2975 2975******
MARTIN           1250 1250******
BLAKE            2850 2850******
CLARK            2450 2450******
SCOTT            3000 3000******
KING             5000 5000******
TURNER           1500 1500******
ADAMS            1100 1100******

ENAME             SAL RPAD(SAL,10,'*')
---------- ---------- --------------------
JAMES             950 950*******
FORD             3000 3000******
MILLER           1300 1300******
```



```
SQL> select length('  hello  '),length(trim('  hello  ')) from dual;

LENGTH('HELLO') LENGTH(TRIM('HELLO'))
--------------- ---------------------
              9                     5
```



```
SQL> select trim ('H' from 'Hello wonderful'), trim('l' from 'Hello wonderful') from dual;

TRIM('H'FROM'H TRIM('L'FROM'H
-------------- --------------
ello wonderful Hello wonderfu

```



```
SQL> select ename,empno from emp where mod(empno,2) != 0;

ENAME           EMPNO
---------- ----------
SMITH            7369
ALLEN            7499
WARD             7521
KING             7839
```





```
SQL> select sessiontimezone from dual;

SESSIONTIMEZONE
---------------------------------------------------------------------------
+09:00

SQL> alter session set time_zone='+3:00';

세션이 변경되었습니다.

SQL> select sessiontimezone from dual;

SESSIONTIMEZONE
---------------------------------------------------------------------------
+03:00
```



```
SQL> select sysdate,current_date,current_timestamp from dual;

SYSDATE  CURRENT_
-------- --------
CURRENT_TIMESTAMP
---------------------------------------------------------------------------
19_05_30 19_05_30
19/05/30 10:47:52.000000 +03:00
```



```
SQL> select add_months(sysdate,6) from dual;

ADD_MONT
--------
19_11_30
```



```
SQL> select hiredate , add_months(hiredate,7) from emp;

HIREDATE ADD_MONT
-------- --------
80_12_17 81_07_17
81_02_20 81_09_20
81_02_22 81_09_22
81_04_02 81_11_02
81_09_28 82_04_28
81_05_01 81_12_01
81_06_09 82_01_09
87_04_19 87_11_19
81_11_17 82_06_17
81_09_08 82_04_08
87_05_23 87_12_23

HIREDATE ADD_MONT
-------- --------
81_12_03 82_07_03
81_12_03 82_07_03
82_01_23 82_08_23
```

```
SQL> select months_between(sysdate,hiredate) from emp;

MONTHS_BETWEEN(SYSDATE,HIREDATE)
--------------------------------
                       461.44238
                      459.345606
                      459.281089
                      457.926251
                      452.087541
                      456.958509
                      455.700444
                      385.377864
                       450.44238
                      452.732702
                      384.248831

MONTHS_BETWEEN(SYSDATE,HIREDATE)
--------------------------------
                      449.893993
                      449.893993
                      448.248831
```



```
SQL> select next_day(sysdate,'목') from emp;

NEXT_DAY
--------
19_06_06
19_06_06
19_06_06
19_06_06
19_06_06
19_06_06
19_06_06
19_06_06
19_06_06
19_06_06
19_06_06

NEXT_DAY
--------
19_06_06
19_06_06
19_06_06

14 개의 행이 선택되었습니다.
```



```sql
SQL> select trunc(to_date('14/02/14') ,'MONTH'),trunc(to_date('14/02/14') ,'YEAR') from dual;

TRUNC(TO TRUNC(TO
-------- --------
14_02_01 14_01_01



SQL> select round(to_date('14/02/16') ,'MONTH'),round(to_date('14/02/14') ,'YEAR') from dual;

ROUND(TO ROUND(TO
-------- --------
14_03_01 14_01_01
```



```
SQL> select last_day(to_date('14/02/14')) ,last_day(to_date('12/02/14'))from dual;

LAST_DAY LAST_DAY
-------- --------
14_02_28 12_02_29
```

quiz>사원들의 입사 날짜로부터 6개월 후 다음 금요일이 연봉 조정 면담날짜이다 출력하세요.



```
SQL> select next_day(add_months(hiredate,6),'금') from emp;

NEXT_DAY
--------
81_06_19
81_08_21
81_08_28
81_10_09
82_04_02
81_11_06
81_12_11
87_10_23
82_05_21
82_03_12
87_11_27

NEXT_DAY
--------
82_06_04
82_06_04
82_07_30
```



```
SQL> select to_char(123456.789,'$9,999,999,9999') from dual;

TO_CHAR(123456.7
----------------
        $12,3457
```

```
SQL> select sysdate, to_char(sysdate,'YYYY "년" MM "월" DD"일" DY' ) from dual;

SYSDATE  TO_CHAR(SYSDATE,'YYYY"
-------- -----------------------
19_05_30 2019 년 05 월 30일 목
```

```
SQL> select sysdate,to_char(sysdate,'Year Month DDspth Day') from dual;

SYSDATE
--------
TO_CHAR(SYSDATE,'YEARMONTHDDSPTHDAY')
--------------------------------------------------------------------------------
19_05_30
Twenty Nineteen May       THIRTIETH Thursday
```

